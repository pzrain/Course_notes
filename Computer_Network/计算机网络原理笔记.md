## <center>计算机网络原理</center>

### Chapter01

* 传输单位与媒介

  位（bit）   $1B=8b$

  * **存储**常用**字节**$Byte$，K/M/G层级为$2^{10}$进制
  * **传输**常用**比特**$Bit$，K/M/G层级为$10^3$进制

* 网络核心的两大功能

  1. **路由**：确定数据分组从源到目标所使用的**路径**
  2. **转发**：路由器或交换机将接收到的数据分组转发出去

* 三种交换

  1. **电路交换**：采用面向连接的方式：先呼叫建立连接，实现端到端的**资源预留**，电路交换连接建立后物理通路被通信双方**独占**。传输性能好，但缺点是无法应对“突发”流量。

  2. **报文交换**：路由器存储与转发报文，**不需预留资源**，因此传送突发数据时可提高网络利用率。但是**存储转发**带来报文的**传输延迟**：
     $$
     L位数据报文，以R\space bps的速率，发送到链路中，传输延迟为\frac{L}{R}秒
     $$

     > 注意区分**传输延迟**、**传播时延**和**传输时延**。传播时延是等于两台路由器之间的距离除以传播速率。传输时延则是将数据全部传输过去花费的时间，等于数据位数除以比特率，也叫做发送时延。
     >
     > 分组交换中，总时间即为传输时延（发送时延）+传播时延+由于存储转发带来的时延（传输延迟）。

  3. **分组交换**：发送时将较长的报文划分成**较短的、固定长度的**数据段，并在每一个数据段前面添加上**首部**构成分组。每个分组在互联网中独立地选择传输路径，较为灵活，**相较于报文交换时延小**。

### Chapter02

* **协议**与**服务**：==协议是“水平的”，服务是“垂直的”==，实体使用协议来实现其定义的服务

* **OSI参考模型**

  应用层$\rightarrow$数据链路层$\rightarrow$网络层$\rightarrow$传输层$\rightarrow$会话层$\rightarrow$表示层$\rightarrow$应用层

  | 模型层     | 作用                                             |
  | ---------- | ------------------------------------------------ |
  | 应用层     | 提供应用程序便捷的网络服务调用                   |
  | 表示层     | 关注所传递信息的语法语义                         |
  | 会话层     | 在应用程序之间建立和维持会话，并能使会话获得同步 |
  | 传输层     | 将数据从源端口发送到目的端口（__进程到进程__）   |
  | 网络层     | 将数据包跨越网络从源设备发送到目的设备           |
  | 数据链路层 | 实现相邻网络实体间的数据传输                     |
  | 物理层     | 定义如何在信道上传输0、1                         |

* **TCP/IP参考模型**

  应用层$\rightarrow$传输层$\rightarrow$互联网层$\rightarrow$网络接口层

  | 模型层     | 作用                                                    |
  | ---------- | ------------------------------------------------------- |
  | 应用层     | 传输层上的所有高层协议                                  |
  | 传输层     | 端到端的传输                                            |
  | 互联网层   | 将数据包传输至目的地，定义数据包格式和协议（ipv4,ipv6） |
  | 网络接口层 | 实现各种网络的接入                                      |

* 网络度量单位

  **带宽**：比特率（bps），为在数字信道上传送数据的速率

  **分组转发率**：PPS，表示交换机或路由器等网络设备**以包为单位**的转发速率

  **线速**：网络设备端口的最大带宽

  | 时延类型 | 定义                                                         |
  | -------- | ------------------------------------------------------------ |
  | 传输时延 | 数据从结点进入传输媒体所需要的时间，又称发送时延：$d_{trans}=\frac{Length(bit)}{R(bit/s)}$ |
  | 传播时延 | 电磁波在信道中需要传播一定距离而花费的时间：$d_{prop}=\frac{Distance(m)}{c(m/s)}$ |
  | 处理时延 | 主机或路由器在收到分组时，为处理分组所花费的时间             |
  | 排队时延 | 分组在路由器输入输出队列中排队等待处理所经历的时延           |

  **往返时延**：从发送方发送数据开始，到发送方收到来自接收方的确认所经历的总时间（即`ping`命令中获取的时延）

  **吞吐量**：单位时间内通过某个网络的数据量，单位b/s

  **有效吞吐量**：单位时间内目的地正确接收到的有用信息的数目(bit为单位)

  **利用率**：信道利用率指出某信道有百分之几的时间是被利用的；网络利用率则是全网络的信道利用率的加权平均值

  **时延带宽积**：$\bold{时延带宽积=传播时延\times带宽}$，若发送端连续发送数据，则在发送的第一个bit即将达到终点时，发送端就已经发送了**时延带宽积**个bit。此时链路得到了充分应用。