## 第七章习题（进阶）

<p align="right">潘子睿 2024310675</p>

### Q7.7

> 难度：2。对$n$分奇偶讨论即可。

共有四种旋转方案，分别为恒等变换，顺时针旋转90度，逆时针旋转90度，顺时针旋转180度。

使用波利亚定理，对$n$分奇偶进行讨论。

1. $n$为偶数。

   | 变换            | 数量 |                       |                     |
   | --------------- | ---- | --------------------- | ------------------- |
   | 恒等变化        | 1种  | $(1)^{n^2}$           | $2^{n^2}$           |
   | 顺时针旋转90度  | 1种  | $(4)^{\frac{n^2}{4}}$ | $2^{\frac{n^2}{4}}$ |
   | 逆时针旋转90度  | 1种  | $(4)^{\frac{n^2}{4}}$ | $2^{\frac{n^2}{4}}$ |
   | 顺时针旋转180度 | 1种  | $(2)^{\frac{n^2}{2}}$ | $2^{\frac{n^2}{2}}$ |

   因此此时不等价的染色方案数为
   $$
   C=\frac{2^{n^2}+2^{\frac{n^2}{4}}+2^{\frac{n^2}{4}}+2^{\frac{n^2}{2}}}{4}=2^{n^2-2}+2^{\frac{n^2}{4}-1}+2^{\frac{n^2}{2}-2}
   $$

2. $n$为奇数，则不管怎么旋转，中心块位置不变。

   | 变换            | 数量 |                            |                       |
   | --------------- | ---- | -------------------------- | --------------------- |
   | 恒等变化        | 1种  | $(1)^{n^2}$                | $2^{n^2}$             |
   | 顺时针旋转90度  | 1种  | $(4)^{\frac{n^2-1}{4}}(1)$ | $2^{\frac{n^2+3}{4}}$ |
   | 逆时针旋转90度  | 1种  | $(4)^{\frac{n^2-1}{4}}(1)$ | $2^{\frac{n^2+3}{4}}$ |
   | 顺时针旋转180度 | 1种  | $(2)^{\frac{n^2-1}{2}}(1)$ | $2^{\frac{n^2+1}{2}}$ |

   因此此时不等价的染色方案数为
   $$
   C=\frac{2^{n^2}+2^{\frac{n^2+3}{4}}+2^{\frac{n^2+3}{4}}+2^{\frac{n^2+1}{2}}}{4}=2^{n^2-2}+2^{\frac{n^2-1}{4}}+2^{\frac{n^2-3}{2}}
   $$

### Q7.8

> 难度：3。第二小题相对来说复杂一些，需要使用到母函数形式的波利亚定理。第一、三小题比较简单

#### (1)

1. 每切掉一个角，面数加一，因此面数为$6+8=14$
2. 每切掉一个角，顶点数减少1个再增加3个，而增加的每个顶点都恰好被两个切掉的角共用，因此顶点数为$\frac{8-8+3\times 8}{2}=12$。
3. 每切掉一个角，新增三条棱，且当所有角都被切掉后，原来的棱都消失。因此棱数为$8\times 3=24$。

综上，面数为14，顶点数为12，棱数为24。

#### (2)

该多面体中共有6个正四边形，8个正三角形。使用母函数形式的波利亚定理，对正四边形和正三角形分别考虑，用$x,y,z$分别表示染了红色、黄色和蓝色，用下标$1$表示涂在正三角形上，下标$2$表示涂在正四边形上：

| 变换                     | 数量            |                         |                                                             |
| ------------------------ | --------------- | ----------------------- | ----------------------------------------------------------- |
| 恒等变换                 | 1种             | $(1)^8\quad(1)^6$       | $(x_1+y_1+z_1)^8(x_2+y_2+z_2)^6$                            |
| 面面中心转$\pm$90度      | $3\times 2=6$种 | $(4)^2\quad (4)(1)^2$   | $(x_1^4+y_1^4+z_1^4)^2(x_2^4+y_2^4+z_2^4)(x_2+y_2+z_2)^2$   |
| 面面中心转180度          | 3种             | $(2)^4\quad (2)^2(1)^2$ | $(x_1^2+y_1^2+z_1^2)^4(x_2^2+y_2^2+z_2^2)^2(x_2+y_2+z_2)^2$ |
| 棱中对棱中旋转180度      | 6种             | $(2)^4\quad (2)^3$      | $(x_1^2+y_1^2+z_1^2)^4(x_2^2+y_2^2+z_2^2)^3$                |
| 对角线为轴旋转$\pm$120度 | $2\times 4=8$种 | $(1)^2(3)^2\quad (3)^2$ | $(x_1+y_1+z_1)^2(x_1^3+y_1^3+z_1^3)^2(x_2^3+y_2^3+z_2^3)^2$ |

所以总的不等价染色方案数为
$$
\begin{align}
\frac{1}{24}[&(x_1+y_1+z_1)^8(x_2+y_2+z_2)^6\\
+&6\cdot(x_1^4+y_1^4+z_1^4)^2(x_2^4+y_2^4+z_2^4)(x_2+y_2+z_2)^2\\
+&3\cdot(x_1^2+y_1^2+z_1^2)^4(x_2^2+y_2^2+z_2^2)^2(x_2+y_2+z_2)^2\\
+&6\cdot(x_1^2+y_1^2+z_1^2)^4(x_2^2+y_2^2+z_2^2)^3\\
+&8\cdot(x_1+y_1+z_1)^2(x_1^3+y_1^3+z_1^3)^2(x_2^3+y_2^3+z_2^3)^2]
\end{align}
$$
满足题意的解为$\set{x_1^4y_1^4z_2^6,x_1^4z_1^4y_2^4z_2^2,y_1^4z_1^4x_2^4z_2^2}$。其系数之和为
$$
\begin{align}
&\frac{1}{24}[(C_8^4+C_8^4C_6^4+C_8^4C_6^4)\\
&+6\cdot(C_2^1+C_2^1+C_2^1)\\
&+3\cdot(C_4^2+C_4^2(1+C_2^1)+C_4^2(1+C_2^1))\\
&+6\cdot(C_4^2+C_4^2C_3^2+C_4^2C_3^2)\\
&+8\cdot(C_2^1C_2^1+C_2^1C_2^1\cdot 0 + C_2^1C_2^1\cdot 0)]\\
=&109
\end{align}
$$
因此满足题意的不等价染色方案数就是109。

#### (3)

视为对棱的二染色。根据波利亚定理，有

| 变换                     | 数量            |            |          |
| ------------------------ | --------------- | ---------- | -------- |
| 恒等变换                 | 1种             | $(1)^{24}$ | $2^{24}$ |
| 面面中心转$\pm$90度      | $3\times 2=6$种 | $(4)^6$    | $2^6$    |
| 面面中心转180度          | 3种             | $(2)^{12}$ | $2^{12}$ |
| 棱中对棱中旋转180度      | 6种             | $(2)^{12}$ | $2^{12}$ |
| 对角线为轴旋转$\pm$120度 | $2\times 4=8$种 | $(3)^8$    | $2^{8}$  |

所以不等价的方案数为
$$
\frac{1}{24}(2^{24}+6\cdot 2^6+3\cdot 2^{12}+6\cdot 2^{12}+8\cdot 2^{8})=700688
$$

### Q7.9

> 难度：2。这道题有点奇怪，我认为就是面的四染色问题。

按肖像画中人头的朝向对其进行分类，共有四种，即头朝上、朝左、朝下、朝右。因此，可视为对面的四染色。根据波利亚定理，有

| 变换                     | 数量            |            |          |
| ------------------------ | --------------- | ---------- | -------- |
| 恒等变换                 | 1种             | $(1)^{24}$ | $4^{24}$ |
| 面面中心转$\pm$90度      | $3\times 2=6$种 | $(4)^6$    | $4^6$    |
| 面面中心转180度          | 3种             | $(2)^{12}$ | $4^{12}$ |
| 棱中对棱中旋转180度      | 6种             | $(2)^{12}$ | $4^{12}$ |
| 对角线为轴旋转$\pm$120度 | $2\times 4=8$种 | $(3)^8$    | $4^{8}$  |

所以不等价的方案数为
$$
\frac{1}{24}(4^{24}+6\times 4^6+3\times 4^{12}+6\times 4^{12}+8\times 4^8)
$$

### Q7.10

> 难度：3。这道题难度不高，但是比较复杂，仿照课上说的四个顶点的完全图的边染色问题去做即可。

即5个顶点的完全图的边的三着色问题。其顶点的所有置换对应着对称群S5的每个置换。首先，该完全图一共有5个顶点，10条边。

根据波利亚定理，有

| 顶点的变换 | 数量                             | 边的变换     |          |
| ---------- | -------------------------------- | ------------ | -------- |
| $(1)^5$    | $1$种                            | $(1)^{10}$   | $3^{10}$ |
| $(1)^3(2)$ | $C_5^2=10$种                     | $(1)^4(2)^3$ | $3^{7}$  |
| $(1)^2(3)$ | $C_5^3 \frac{A_3^3}{3}=20$种     | $(1)(3)^3$   | $3^4$    |
| $(1)(4)$   | $C_5^4\cdot\frac{A_4^4}{4}=30$种 | $(2)(4)^2$   | $3^3$    |
| $(1)(2)^2$ | $C_5^1C_{4-1}^1=15$种            | $(1)^2(2)^4$ | $3^6$    |
| $(2)(3)$   | $C_5^2\frac{A_3^3}{3}=20$种      | $(1)(3)(6)$  | $3^3$    |
| $(5)$      | $\frac{A_5^5}{5}=24$种           | $(5)^2$      | $3^2$    |

所以不等价的染色方案数为
$$
\frac{1}{120}(3^{10}+10\times 3^7+20\times 3^4+30\times 3^3+15\times 3^6+20\times 3^3+24\times 3^2)=792
$$

### Q7.11

> 难度：5。这道题如果用波利亚定理来做，非常困难。主要难点是变换的个数比较难数，非常抽象。需要注意到几个事实，首先$1\times 1$的面和$1\times 2$的面的位置永远不会交换，其次 两个小正方体分别的侧面上的四个面的相对位置不会改变（但可能由顺时针变为逆时针）。但另一方面，如果不用波利亚定理，我们直接去数，按照某一侧小正方体上涂某种颜色的面的数量进行分类，是很好计数的。因为一种颜色要涂五个面，这五个面分散在两个小正方体上，只有三种可能，分别是$(5,0),(4,1),(3,2)$，对应的种数为1，$2\times 2=4$，$3\times 3=9$，因此总的方案数为14，这和波利亚定理计算出来的相同。

考虑该$1\times 1\times 2$正方体表面二着色的问题。

首先，对于$1\times 2$的长方体，其空间旋转一共有4种，分别为：

1. 变换一：恒等变换（不变）
2. 变换二：$1\times 1$面对应的面心为轴转$\pm 90、180$度
3. 变换三：$1\times 2$面对应的面心为轴转180度
4. 变换四：长为2的对棱棱心为轴转180度

由于两个$1\times 1$的小正方体可以旋转，因此上述的第二种空间变换实际上可以通过小正方体的旋转来表示。而对于第三、四种变换，其本质上是将两个小正方体对调了位置，变换四可以通过变换三加小正方体的旋转来得到。因此下可以分为两个方面进行考虑，分别为变换一（不变）加小正方体的旋转，以及变换三加小正方体的旋转。对于后者，我们考虑两个小正方体旋转度数的差值（顺时针转动为正，逆时针转动为负）。若差值为0或360度，则循环长度为2；若差值为90度或270度，则循环长度为8；若差值为180度，则循环长度为4。

根据母函数形式的波利亚定理，有

|                          | 变换                                                    | 种类            |                 |                               |
| ------------------------ | ------------------------------------------------------- | --------------- | --------------- | ----------------------------- |
| 不进行空间旋转（变换一） | 两侧的1x1小正方体均不动                                 | 1种             | $(1)^{10}$      | $(x+y)^{10}$                  |
|                          | 一侧的1x1小正方体不动，另一侧顺/逆时针转90度            | $2\times 2=4$种 | $(1)^6(4)$      | $(x+y)^6(x^4+y^4)$            |
|                          | 一侧的1x1小正方体不动，另一侧转180度                    | 2种             | $(1)^6(2)^2$    | $(x+y)^6(x^2+y^2)^2$          |
|                          | 一侧1x1小正方体顺/逆时针转90度，另一侧也顺/逆时针转90度 | $2\times 2=4$种 | $(1)^2(4)^2$    | $(x+y)^2(x^4+y^4)^2$          |
|                          | 一侧1x1小正方体顺/逆时针转90度，另一侧转180度           | $2\times 2=4$种 | $(1)^2(2)^2(4)$ | $(x+y)^2(x^2+y^2)^2(x^4+y^4)$ |
|                          | 两侧的$1\times 1$小正方体均转180度                      | 1种             | $(1)^2(2)^4$    | $(x+y)^2(x^2+y^2)^4$          |
| 进行空间旋转（变换三）   | 两个小正方体旋转度数的差值为0度或360度                  | 4种             | $(2)^5$         | $(x^2+y^2)^5$                 |
|                          | 两个小正方体旋转度数的差值为180度                       | 4种             | $(2)(4)^2$      | $(x^2+y^2)(x^4+y^4)^2$        |
|                          | 两个小正方体旋转度数的差值为90度或270度                 | 8种             | $(2)(8)$        | $(x^2+y^2)(x^8+y^8)$          |

所以总的旋转的数量为32种，总的不等价染色方案数为
$$
\begin{align}
\frac{1}{32}[&(x+y)^{10}+4\times(x+y)^6(x^4+y^4)+ 2\times (x+y)^6(x^2+y^2)^2+4\times (x+y)^2(x^4+y^4)^2\\
+&4\times (x+y)^2(x^2+y^2)^2(x^4+y^4)+(x+y)^2(x^2+y^2)^4+4\times (x^2+y^2)^5\\
+&4\times(x^2+y^2)(x^4+y^4)^2+8\times (x^2+y^2)(x^8+y^8)
]
\end{align}
$$
考虑其中$x^5y^5$的系数，为
$$
\frac{1}{32}[C_{10}^5+4\times12+2\times (6+2\times C_6^3+6)+4\times 2\times 2+4\times (2+2)+2\times C_4^2]=14
$$

因此满足题意的每种颜色恰好染五个色块的方法数就是14。

### Q7.12

> 难度：3。比较简单，先转化为用6种颜色涂正方体的问题，课上介绍过是30种。然后考虑各个面数字的朝向即可。个人觉得可以在数字中加入一些中心对称的数字，例如1，8，或者加入一组 6和9（6旋转180度后变成9）来增加题目的变化？

注意到，对于中心写有数字2，3，4，5，6，7的正方形贴纸，其绕贴纸中心旋转90度、180度、270度后均无法与原来的图案重合。

先不考虑这些中心写有数字的正方形贴纸朝向，根据母函数形式的波利亚定理，有：

| 变换                     | 数量            |              |                   |
| ------------------------ | --------------- | ------------ | ----------------- |
| 恒等变换                 | 1种             | $(1)^{6}$    | $(x+y+z+u+v+w)^6$ |
| 面面中心转$\pm$90度      | $3\times 2=6$种 | $(1)^2(4)$   | 无不动点          |
| 面面中心转180度          | 3种             | $(1)^2(2)^2$ | $无不动点$        |
| 棱中对棱中旋转180度      | 6种             | $(2)^3$      | $无不动点$        |
| 对角线为轴旋转$\pm$120度 | $2\times 4=8$种 | $(3)^2$      | $无不动点$        |

因此，此时所有不等价的方案数为
$$
\frac{1}{24}(x+y+z+u+v+w)^6
$$
进一步地，每一种贴纸恰好都只使用一个的不等价的方案数为
$$
\frac{1}{24}\cdot 6!=30种
$$
最后，考虑到每一种贴纸都有四种可能的朝向，因此原题所要求的不等价的方案数为
$$
30\times 4 ^6=122880
$$

